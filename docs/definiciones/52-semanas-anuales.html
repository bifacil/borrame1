<!DOCTYPE html []>
<html lang="es" data-authenticationTime="1 ms" data-authorizeRequestTime="0 ms" data-engineCreationTime="1 ms" data-engineVariablesTime="0 ms" data-responseCreationTime="1" data-evaluationTime="8" data-queryTime="0" data-evaluationsCount="186" data-queryCount="1" data-query="definiciones/52-semanas-anuales.html">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1,requiresActiveX=true" />
    <title>Años de 52 semanas</title>
    <meta name="description" content="¿Cuántos semanas tiene un año? ¿52? ¿53? Se trata de una pregunta habitual en entornos de Business Intelligence, la respuesta y el tratamiento de esta cuestión no es sencillo." />
    <meta name="keywords" content="Business Intelligence,datawarehouse,crono,BI,cuadro de mando,Barcelona,España" />
    <meta name="y_key" content="f9df80cf3ef594d6" />
    <meta name="google-site-verification" content="w6gZESf_S3APOXfjzJMrnLIiA9bcWeRPJSTjlB-8Mfg" />
    <meta name="msvalfidate.01" content="401B0C3C6EEDE1AC271C85838378209E" />
    <link href="../resources/images/favicon.png" rel="shortcut icon" />
    <link href="../resources/js/animations/animate.min.css" rel="stylesheet" />
    <link href="../resources/css/fontawesome/font-awesome.min.css" rel="stylesheet" />
    <link href="../resources/css/iconfontcustom/icon-font-custom.css" rel="stylesheet" />
    <link href="../resources/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../resources/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../resources/css/base.css" rel="stylesheet" />
    <link href="../resources/css/style.css" type="text/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:100,100i,300,300i,400,400i,700" rel="stylesheet" />
    <link href="https://www.businessintelligence.info/rss.xml" rel="alternate" type="application/rss+xml" title="(RSS)" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet" />
    <link href="https://www.businessintelligence.info/definiciones/52-semanas-anuales.html" rel="canonical" />
    <script src="../resources/js/jquery-2.1.1.min.js"></script>
    <script src="../resources/js/viewport/jquery.viewport.js"></script>
    <script>
      (function() {
        var cx = '001840061174465826245:yxey5gkicrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
  </head>
  <body>
    <div id="wrap">
      <header id="header" class="stuck">
        <div class="row">
          <div class="span3">
            <div id="logo">
              <a href="../index.html">
                <img src="../resources/images/Logo-bif-crono.png" alt="" />
              </a>
            </div>
          </div>
          <div class="span9">
            <a href="#" id="mobile-menu-trigger">
              <i class="fa fa-bars"></i>
            </a>
            <nav>
              <ul class="sf-menu fixed" id="menu">
                <li>
                  <a href="../buscar.html">
                    <svg width="25" height="25" viewBox="0 0 13 13">
                      <title>Búsqueda</title>
                      <path d="m4.8495 7.8226c0.82666 0 1.5262-0.29146 2.0985-0.87438 0.57232-0.58292 0.86378-1.2877 0.87438-2.1144 0.010599-0.82666-0.28086-1.5262-0.87438-2.0985-0.59352-0.57232-1.293-0.86378-2.0985-0.87438-0.8055-0.010599-1.5103 0.28086-2.1144 0.87438-0.60414 0.59352-0.8956 1.293-0.87438 2.0985 0.021197 0.8055 0.31266 1.5103 0.87438 2.1144 0.56172 0.60414 1.2665 0.8956 2.1144 0.87438zm4.4695 0.2115 3.681 3.6819-1.259 1.284-3.6817-3.7 0.0019784-0.69479-0.090043-0.098846c-0.87973 0.76087-1.92 1.1413-3.1207 1.1413-1.3553 0-2.5025-0.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239c0-1.3553 0.4696-2.4966 1.4088-3.4239 0.9392-0.92727 2.0864-1.3969 3.4417-1.4088 1.3553-0.011889 2.4906 0.45771 3.406 1.4088 0.9154 0.95107 1.379 2.0924 1.3909 3.4239 0 1.2126-0.38043 2.2588-1.1413 3.1385l0.098834 0.090049z" />
                    </svg>
                  </a>
                </li>
                <li>
                  <a href="../index.html">Inicio</a>
                </li>
                <li>
                  <a href="../archivo.html">Archivo</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <div class="row" id="banner">
        <div class="span10 banner">
          <a href="https://businessintelligence.es" alt="Business Intelligence">
            <img src="../resources/images/banner1.jpg" />
          </a>
        </div>
      </div>
      <div class="row">
        <main class="span10 post">
          <article>
            <div>
              <div class="up-title">
                <h1>Años de 52 semanas</h1>
                <a class="catlink" href="../categorias.html#definiciones">Definiciones</a>
              </div>
              <div class="fecha">jueves, 4 de febrero de 2010</div>
              <p>En cualquier sistema de reporting o de cuadro de mando se trabaja habitualmente con semanas, y se requiere numerar las semanas del año desde la primera hasta la última. A pesar de ser algo requerido en todos los proyectos Business Intelligence, y ser habitual en todas las empresas, existe poco consenso sobre la manera de numerar de las semanas.</p>
              <p>Esta problemática aparece por varios motivos:</p>
              <ul>
                <li>En algunos países las semanas comienzan los lunes, y otros consideran que el primer día de la semana es el domingo. En España, las semanas van de lunes a domingo.</li>
                <li>Los años tienen un número variable de días (365 o 366), y en ningún caso es múltiplo de siete. Esto provoca que cada año tenga 52 o 53 semanas, y que irremediablemente existan semanas a caballo entre 2 años diferentes...</li>
              </ul>
              <p>Por lo tanto... ¿Cuál es la primera semana del año?</p>
              <p>Existen dos respuestas habituales: Podemos considerar que el 1 de enero pertenece a la primera semana del año, por definición. O podemos decir que la primera semana del año es aquella en la que la mayoría de los días pertenecen al nuevo año. Se entiende mejor con un ejemplo concreto... ¿Cuál es la primera semana del año 2010? ¿La del 1 de enero? ¿O la del 4 de enero?</p>
              <p>
                <img src="https://www.businessintelligence.info/resources/imagenes-bi/calendario-52-semanas-2010.jpg" alt="Primeras semanas del año 2010" title="Primeras semanas del año 2010" style="display:block;text-align:center;margin-left:auto;margin-right:auto;width:368px;height:256px;" />
              </p>
              <p>Afortunadamente, alguien intentó ordenar la situación estandarizando todo esto... Según la ISO 8601:</p>
              <ul>
                <li>Las semanas comienzan los lunes</li>
                <li>La primera semana del año incluye al primer jueves del año</li>
                <li>Cada año tiene 52 o 53 semanas</li>
              </ul>
              <p>Por cierto, la condición de que "la primera semana del año incluye al primer jueves del año" es completamente equivalente a estas dos:</p>
              <ul>
                <li>El día 4 de enero siempre pertenece a la primera semana del año</li>
                <li>La primera semana del año es aquella en la que la mayoría de días pertenecen al nuevo año</li>
              </ul>
              <p></p>
              <p>Desafortunadamente, nadie ha hecho demasiado caso a esta definición ISO. Prueba de ello, es que el Excel no tiene una función para calcular el número de la semana ISO, ni tampoco la incluyen la mayoria de bases de datos (SQL Server, por ejemplo, no ha definido ISO_WEEK hasta la versión SQL Server 2008). Seguramente, la falta de aceptación de este criterio se debe a que en Estados Unidos no tiene ningún sentido comenzar a numerar las semanas un lunes. En Europa, sigue siendo común considerar que el 1 de enero pertenece a la primera semana del año.</p>
              <p>Desde el punto de vista analítico, además, las semanas ISO tampoco nos resultan útiles. Para entender por qué, es necesario comprender primero para que necesitan los usuarios el "número de semana"... Esta dimensión se utiliza en los informes semanales, donde se mira la evolución de un indicador respecto la semana anterior y/o respecto la semana equivalente del año anterior. En informes diarios también se utiliza un criterio similar... y se compara las ventas del día, respecto el mismo día de la semana anterior, y el día equivalente del año anterior. ¿Y cuál es el día equivalente del año anterior? ¡¡Pues el del mismo número de semana!!</p>
              <p>
                <span>Veamos un caso concreto. Hoy es </span>
                <b>jueves 4 de febrero del 2010</b>
                <span>. Según el criterio ISO,  hoy es el jueves de la quinta semana del año 2010. El día equivalente del año anterior es el jueves de la quinta semana del año 2009... que según el criterio ISO corresponde al </span>
                <b>jueves 29 de enero del 2009</b>
                <span>...mmm... Esta respuesta nunca ha gustado a mis usuarios de negocio. Desde hace años, a mi tampoco (creo que fue en el 2005 cuando me convencieron). Según mis usuarios de negocio, el día equivalente es el </span>
                <b>jueves 5 de febrero del 2009</b>
                <span>.</span>
              </p>
              <p>
                <img src="https://www.businessintelligence.info/resources/imagenes-bi/calendario-52-semanas-2009.jpg" alt="Primeras semanas del año 2009. La relación correcta entre semanas equivalente se obtiene restando 52 semanas. Siempre." title="Primeras semanas del año 2009. La relación correcta entre semanas equivalente se obtiene restando 52 semanas. Siempre." style="display:block;text-align:center;margin-left:auto;margin-right:auto;width:615px;height:207px;" />
              </p>
              <p>Este problema aparece porque el año 2009 tuvo 53 semanas ISO... Es un problema recurrente. Ocurrió en 1998 y en el 2004, y volverá a ocurrir en 2015, 2020 y 2026... Que sólo ocurra cada 5 o 6 años, no impide que debamos afrontarlo... ya que durante todo el 2010 deberemos comparar las semanas con las equivalentes del 2009... ¿Cómo debemos, entonces, calcular la semana equivalente? Además, ¿Cuál seria la "semana equivalente" a la semana 53 del año 2009?</p>
              <p>
                <span>En un sistema Business Intelligence, con un objetivo analítico, considero que da igual como se numeren la semanas. </span>
                <b>Lo principal, lo imprescindible, es que cada año debe tener exactamente 52 semanas</b>
                <span>. De esta manera, para calcular el día equivalente del año anterior debemos restar 364 días (=52x7), para calcular el día equivalente de hace 2 años debemos restar 728 días (=2x52x7), etc. Una vez decidamos cual es la primera semana del año actual, ya podemos numerar todas las semanas pasadas y futuras, en grupos de 52...</span>
              </p>
              <p>Podemos considerar que la primera semana del año es la de 1 de enero, o la del primer jueves. Es igual. Si suponemos que la primera semana es la del primer jueves, numeraríamos las semanas pasadas y futuras de la siguiente forma (SQL Server):</p>
              <p>
                <b>(floor(datediff(d,CONVERT(datetime,'20100104',112),@fecha)/7.0)+52000)%52+1</b>
              </p>
              <p>Evidentemente, este "número de semana" debe estar precalculado en la tabla de tiempo de nuestro datawarehouse... Observad que en esta fórmula he tenido en cuenta que el lunes de la primera semana del año actual fue el 4 de enero del 2010... Esta formula funcionará sin problemas hasta el 2015....</p>
              <p>Esta manera de numerar las semanas es útil en sistemas analíticos. La problemática descrita anteriormente es habitual en la industria del retail y en el de las telecomunicaciones, y en todos aquellos casos en los que se trabaja con informes diarios o semanales. La solución propuesta es una solución personal, heterodoxa, por lo que aprovecho para ponerla a vuesta consideración. ¿Existe el "número de semana" en vuestro datawarehouse? ¿Cuál es la primera semana del 2010? ¿Trabajas con el concepto de "semana equivalente"? ¿Cuál es la semana del 2009 equivalente a la primera semana del 2010?</p>
              <p>Buff... Veo que me ha quedado un artículo algo denso... Quien no haya desayunado bien, no entenderá nada de nada... :-)</p>
              <p>
                <b>ACTUALIZACION:</b>
                <span> He escrito otro artículo sobre las </span>
                <a href="https://www.businessintelligence.info/definiciones/53-semanas-equivalentes.html">semanas del año</a>
                <span>. He intentado ser más conciso...</span>
              </p>
            </div>
            <div class="comentarios">
              <div id="disqus_thread"></div>
              <script>
            		var disqus_config = function () {
            			this.page.url = 'https://www.businessintelligence.info/definiciones/52-semanas-anuales.html'
            			this.page.identifier = 'bifacil174'
            		};	
            		(function() { 
            			var d = document, s = d.createElement('script');
            			s.src = '//bifacil.disqus.com/embed.js';
            			s.setAttribute('data-timestamp', +new Date());
            			(d.head || d.body).appendChild(s);
            		})();
            	</script>
            </div>
          </article>
        </main>
      </div>
    </div>
    <footer>
      <div class="row">
        <div class="span3">
          <ul>
            <li>
              <a href="../index.html">Inicio</a>
            </li>
            <li>
              <a href="../archivo.html">Archivo</a>
            </li>
            <li>
              <a href="../categorias.html">Categorías</a>
            </li>
            <li>
              <a href="../sobre-el-blog/contacto.html">Contacto</a>
            </li>
            <li>
              <a href="../sobre-el-blog/enlaces.html">Enlaces</a>
            </li>
          </ul>
        </div>
        <div class="span3">
          <div class="rrss-footer">
            <a href="https://www.linkedin.com/company/businessintelligence" target="_blank" class="fa fa-linkedin"></a>
            <a href="http://twitter.com/bifacil" target="_blank" class="fa fa-twitter"></a>
            <a href="https://www.youtube.com/c/BusinessIntelligenceInfo" target="_blank" class="fa fa-youtube"></a>
            <a href="https://www.facebook.com/CronoBusinessIntelligence" target="_blank" class="fa fa-facebook"></a>
          </div>
        </div>
        <div class="span3">
          <section class="newsletter">
            <p>¿Quieres recibir los artículos de este blog por correo electrónico? No te pierdas ni un artículo. Mantente informado sobre lo que ocurre en el mundo del Business Intelligence.</p>
            <div class="divBoton">
              <a href="../subscribe.html">
                <img src="../resources/images/mail_icona.png" />
                <p>¡Síguenos!</p>
              </a>
            </div>
          </section>
        </div>
      </div>
    </footer>
    <script src="../resources/js/scripts.js"></script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-3456231-2");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>